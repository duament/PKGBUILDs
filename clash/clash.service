[Unit]
Description=A rule based proxy in Go.
After=network.target

[Service]
Type=simple
User=clash
Restart=on-abort
CapabilityBoundingSet=CAP_NET_BIND_SERVICE
ExecStart=/usr/bin/clash -d /var/lib/clash

LockPersonality=yes
MemoryDenyWriteExecute=yes
NoNewPrivileges=yes
RestrictNamespaces=yes
SystemCallArchitectures=native
SystemCallFilter=@system-service

ProtectSystem=strict
ProtectHome=yes
ReadWritePaths=/var/lib/clash
PrivateTmp=yes
PrivateDevices=yes

[Install]
WantedBy=multi-user.target
